{% extends 'base.html' %}

{% block page_title %}{{ user }}{% endblock %}

{% block content %}
<div class="page-container profile-page">
    <section class="user-info-section">
        <div class="header">
            <h1>Profile</h1> 
            <h4>User Details - {{ user.email }} ( <span id="profile-id">{{ profile.pk }}</span> )</h4> 
        </div>
        
        <dl class="container">
            <dt class="first_name">First Name</dt><dd>{{ profile.first_name }}</dd>
            <dt class="surname">Surname</dt><dd>{{ profile.surname }}</dd>
            <dt>Email</dt><dd>{{ user.email }}</dd>
            <dt>Username</dt><dd>{{ user.username }}</dd>
            <dt class="nickname">Nickname</dt><dd>{{ profile.nickname }}</dd>
            <dt class="date_of_birth">D.O.B</dt><dd type="date">{{ profile.date_of_birth  }}</dd>
            <dt>Registration Date</dt><dd>{{ profile.registration_date }}</dd>
        </dl>
        
        <div class="pic-container">
            <div class="user-photo" style="background-image: url('{{ MEDIA_URL }}{{ profile.user_photo }})"></div>            
        </div>
        
        <dl class="container license-expiry">
            <dt>Full License Expiry</dt><dd>{{ profile.license_expiry_date }}</dd>   
        </dl>
        
    </section>
    <section class="user-playing-positions-section">
        <h4>User playing positions</h4>
        <div class="key-box">
            <div class="preferred-box"></div><label>  Preferred</label><br>
            <div class="can-play-box"></div><label>  Can Play</label><br>
            <div class="cant-play-box"></div><label>  Can't Play</label>
        </div>
        <div class="half-pitch">
            <div class="row">
                {% if profile.att_pref == 0 %}
                    <div id="att_pref" class="attack inset-shadow">
                {% elif profile.att_pref == 1 %}
                    <div id="att_pref" class="attack inset-shadow can-play-box">
                {% else %}
                    <div id="att_pref" class="attack inset-shadow preferred-box">
                {% endif %}
                    <span>Attack</span>
                </div>
            </div>
            <div class="row">
                {% if profile.mid_pref == 0 %}
                    <div id="mid_pref" class="midfield inset-shadow">
                {% elif profile.mid_pref == 1 %}
                    <div id="mid_pref" class="midfield can-play-box inset-shadow">
                {% else %}
                    <div id="mid_pref" class="midfield preferred-box inset-shadow">
                {% endif %}
                    <span>Midfield</span>
                </div>
            </div>
        </div>
        <div class="half-pitch">
            <div class="row">
                {% if profile.def_pref == 0 %}
                    <div id="def_pref" class="defense inset-shadow">
                {% elif profile.def_pref == 1 %}
                    <div id="def_pref" class="defense can-play-box inset-shadow">
                {% else %}
                    <div id="def_pref" class="defense preferred-box inset-shadow">
                {% endif %}
                    <span>Defense</span> 
                </div>
            </div>
            <div class="row">
                {% if profile.gk_pref == 0 %}
                    <div id="gk_pref" class="goalkeeper inset-shadow">
                {% elif profile.gk_pref == 1 %}
                    <div id="gk_pref" class="goalkeeper can-play-box inset-shadow">
                {% else %}
                    <div id="gk_pref" class="goalkeeper preferred-box inset-shadow">
                {% endif %}
                    <span>Goalkeeper</span> 
                </div>
            </div>
        </div>
    </section>
    <section class="user-attributes-section">
        <h4>User attributes (max 10) - number of user votes = <span>{{ votes }}</span></h4>
        <dl class="container">
            <div class="row">
                <dt>Goalkeeping</dt><dd>{{ attributes.avg_gk }}</dd>
                <dt>Passing</dt><dd>{{ attributes.avg_pass }}</dd>
            </div>
            <div class="row">
                <dt>Defending</dt><dd>{{ attributes.avg_def }}</dd>
                <dt>Finishing</dt><dd>{{ attributes.avg_fin }}</dd>
            </div>
            <div class="row">
                <dt>Movement</dt><dd>{{ attributes.avg_move }}</dd>
                <dt>Outfield Score</dt><dd>{{ avg_outfield }}</dd>
            </div>
        </dl>
        <div class="container">
            <div>ATTRIBUTES GRAPH TO GO HERE</div> 
        </div>
    </section>
    <section class="user-form-section">
        <h4>User form (last 5 games)</h4>
        <div class="container">
            <dl>
                <dt>Most recent game</dt><dd>RATED: TBC</dd>
                <dt>Game 2</dt><dd>RATED: TBC</dd>
                <dt>Game 3</dt><dd>RATED: TBC</dd>
                <dt>Game 4</dt><dd>RATED: TBC</dd>
                <dt>Game 5</dt><dd>RATED: TBC</dd>
                <dt>OVERALL FORM</dt><dd>TBC</dd>
            </dl>
        </div>
    </section>
</div>


{% endblock %}